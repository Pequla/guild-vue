(function(){"use strict";var t={1511:function(t,e,n){var a=n(9242),l=n(3396),u=n(7139),r=n(4870);const i={class:"center"},o=(0,l._)("p",null,[(0,l.Uk)("Source code available on "),(0,l._)("a",{href:"https://github.com/Pequla/guild-vue"},"GitHub")],-1);var c=(0,l.aZ)({__name:"App",setup(t){const e=(new Date).getFullYear();return(t,n)=>{const a=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(a),(0,l._)("footer",i,[(0,l._)("p",null,"Â© "+(0,u.zw)((0,r.SU)(e))+" Pequla - All rights reserved",1),o])],64)}}});const s=c;var d=s,_=n(2483),v=(n(7658),n(4161));const p=v.Z.create({baseURL:"https://api.pequla.com/guildcache",headers:{Accept:"application/json"},validateStatus:function(t){return 200===t}});class h{static async retrieveAll(){return await p.get("/data")}static async retrieveByUuid(t){return await p.get("/data/uuid/"+t)}static async retrieveStats(){return await p.get("/data/stats")}static async updatePlayer(t){return await p.post("/sync/player/"+t)}}const f={class:"date"};var m=(0,l.aZ)({__name:"DateFormat",props:{date:String},setup(t){const e=t,{date:n}=(0,r.BK)(e);function a(t){const e=new Date(t);return`${i(e.getHours())}:${i(e.getMinutes())} ${i(e.getDate())}-${i(e.getMonth())}-${e.getFullYear()}`}function i(t){return String(t).padStart(2,"0")}return(t,e)=>((0,l.wg)(),(0,l.iD)("td",f,(0,u.zw)(a((0,r.SU)(n))),1))}});const g=m;var w=g;const y={class:"home"},k={key:0},b={key:1,id:"player-table",class:"center"},D=(0,l._)("tr",null,[(0,l._)("th",null,"icon"),(0,l._)("th",null,"minecraft"),(0,l._)("th",null,"discord"),(0,l._)("th",null,"created_at"),(0,l._)("th",null,"cached_at"),(0,l._)("th",null,"actions")],-1),z={class:"icon"},O=["src"],S=["src"],U={class:"minecraft"},A={class:"discord"},H=["onClick"],$=["onClick"];var j=(0,l.aZ)({__name:"HomeView",setup(t){const e=(0,r.iH)(),n=(0,r.iH)(),a=(0,_.tv)();function i(){h.retrieveAll().then((t=>e.value=t.data)),h.retrieveStats().then((t=>n.value=t.data))}function o(t){a.push({path:"/details/"+t})}function c(t){h.updatePlayer(t).then((t=>i()))}(0,l.wF)((()=>i()));const s=setInterval(i,15e3);return(0,l.Jd)((()=>clearInterval(s))),(t,a)=>((0,l.wg)(),(0,l.iD)("div",y,[n.value?((0,l.wg)(),(0,l.iD)("h3",k,"Displaying total of "+(0,u.zw)(n.value.count)+" players from "+(0,u.zw)(n.value.guilds.count)+" different guilds",1)):(0,l.kq)("",!0),e.value?((0,l.wg)(),(0,l.iD)("table",b,[D,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value,(t=>((0,l.wg)(),(0,l.iD)("tr",null,[(0,l._)("td",z,[(0,l._)("img",{src:t.avatar},null,8,O),(0,l._)("img",{src:`https://visage.surgeplay.com/face/32/${t.uuid}`},null,8,S)]),(0,l._)("td",U,(0,u.zw)(t.name),1),(0,l._)("td",A,(0,u.zw)(t.nickname),1),(0,l.Wm)(w,{date:t.createdAt},null,8,["date"]),(0,l.Wm)(w,{date:t.cachedAt},null,8,["date"]),(0,l._)("td",null,[(0,l._)("button",{type:"button",class:"details",onClick:e=>o(t.uuid)},"details",8,H),(0,l._)("button",{type:"button",class:"update",onClick:e=>c(t.uuid)},"update",8,$)])])))),256))])):(0,l.kq)("",!0)]))}});const P=j;var W=P;const x={class:"notfound"},C=(0,l._)("h3",null,"Not found",-1);function F(t,e){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",x,[C,(0,l._)("p",null,[(0,l.Uk)("Sorry seams like the page doesn't exist, go back to "),(0,l.Wm)(n,{to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("home")])),_:1})])])}var Z=n(89);const q={},I=(0,Z.Z)(q,[["render",F]]);var Y=I;const B={class:"details"},G=(0,l._)("h3",null,"Player details",-1),M={key:0,class:"center"},N=(0,l._)("th",null,"icon",-1),V=["src"],E=["src"],K=(0,l._)("th",null,"name",-1),T=(0,l._)("th",null,"uuid",-1),J=(0,l._)("th",null,"discord_id",-1),L=(0,l._)("th",null,"tag",-1),R=(0,l._)("th",null,"nickanme",-1),Q=(0,l._)("th",null,"guild_id",-1),X=(0,l._)("th",null,"skin",-1),tt=["src"],et=(0,l._)("th",null,"created_at",-1),nt=(0,l._)("th",null,"cached_at",-1),at={colspan:"2"},lt=(0,l._)("hr",null,null,-1),ut={key:1};var rt=(0,l.aZ)({__name:"DetailsView",setup(t){const e=(0,_.yj)(),n=e.params.uuid,a=(0,r.iH)();return h.retrieveByUuid(n).then((t=>{a.value=t.data})),(t,e)=>{const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",B,[G,a.value?((0,l.wg)(),(0,l.iD)("table",M,[(0,l._)("tr",null,[N,(0,l._)("td",null,[(0,l._)("img",{src:a.value.avatar},null,8,V),(0,l._)("img",{src:`https://visage.surgeplay.com/face/32/${a.value.uuid}`},null,8,E)])]),(0,l._)("tr",null,[K,(0,l._)("td",null,(0,u.zw)(a.value.name),1)]),(0,l._)("tr",null,[T,(0,l._)("td",null,(0,u.zw)(a.value.uuid),1)]),(0,l._)("tr",null,[J,(0,l._)("td",null,(0,u.zw)(a.value.discordId),1)]),(0,l._)("tr",null,[L,(0,l._)("td",null,(0,u.zw)(a.value.tag),1)]),(0,l._)("tr",null,[R,(0,l._)("td",null,(0,u.zw)(a.value.nickname),1)]),(0,l._)("tr",null,[Q,(0,l._)("td",null,(0,u.zw)(a.value.guildId),1)]),(0,l._)("tr",null,[X,(0,l._)("td",null,[(0,l._)("img",{src:`https://visage.surgeplay.com/bust/64/${a.value.uuid}`,class:"skin"},null,8,tt)])]),(0,l._)("tr",null,[et,(0,l.Wm)(w,{date:a.value.createdAt},null,8,["date"])]),(0,l._)("tr",null,[nt,(0,l.Wm)(w,{date:a.value.cachedAt},null,8,["date"])]),(0,l._)("tr",null,[(0,l._)("td",at,[lt,(0,l.Wm)(i,{to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Go home")])),_:1})])])])):((0,l.wg)(),(0,l.iD)("p",ut,"No data found for player "+(0,u.zw)((0,r.SU)(n)),1))])}}});const it=rt;var ot=it;const ct=[{path:"/",name:"home",component:W,meta:{title:"Home"}},{path:"/details/:uuid",name:"details",component:ot,meta:{title:"User"}},{path:"/home",redirect:"/"},{path:"/:catchAll(.*)",name:"notfound",component:Y,meta:{title:"Not Found"}}],st=(0,_.p7)({history:(0,_.PO)("/"),routes:ct});st.beforeEach(((t,e,n)=>{t.meta.title&&(document.title=`${t.meta.title} :: GuildVue`),n()}));var dt=st;(0,a.ri)(d).use(dt).mount("#app")}},e={};function n(a){var l=e[a];if(void 0!==l)return l.exports;var u=e[a]={exports:{}};return t[a].call(u.exports,u,u.exports,n),u.exports}n.m=t,function(){var t=[];n.O=function(e,a,l,u){if(!a){var r=1/0;for(s=0;s<t.length;s++){a=t[s][0],l=t[s][1],u=t[s][2];for(var i=!0,o=0;o<a.length;o++)(!1&u||r>=u)&&Object.keys(n.O).every((function(t){return n.O[t](a[o])}))?a.splice(o--,1):(i=!1,u<r&&(r=u));if(i){t.splice(s--,1);var c=l();void 0!==c&&(e=c)}}return e}u=u||0;for(var s=t.length;s>0&&t[s-1][2]>u;s--)t[s]=t[s-1];t[s]=[a,l,u]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var l,u,r=a[0],i=a[1],o=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(o)var s=o(n)}for(e&&e(a);c<r.length;c++)u=r[c],n.o(t,u)&&t[u]&&t[u][0](),t[u]=0;return n.O(s)},a=self["webpackChunkguild_vue"]=self["webpackChunkguild_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(1511)}));a=n.O(a)})();
//# sourceMappingURL=app.0faa17ee.js.map